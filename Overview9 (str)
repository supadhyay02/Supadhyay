import streamlit as st
import pandas as pd
from datetime import datetime

# Set up the page configuration
st.set_page_config(
    page_title="GlobalView Dashboard",
    page_icon="ðŸ“Š",
    layout="wide"
)

# Custom CSS for styling
st.markdown("""
<style>
    .main-header {
        font-size: 28px;
        font-weight: bold;
        color: #1f3d7a;
        margin-bottom: 10px;
    }
    .section-header {
        font-size: 20px;
        font-weight: bold;
        color: #1f3d7a;
        border-bottom: 2px solid #1f3d7a;
        padding-bottom: 5px;
        margin-top: 20px;
    }
    .info-box {
        background-color: #f0f2f6;
        padding: 15px;
        border-radius: 5px;
        border-left: 4px solid #1f3d7a;
        margin-bottom: 15px;
    }
    .metric-box {
        background-color: #f9f9f9;
        padding: 15px;
        border-radius: 5px;
        border: 1px solid #ddd;
        text-align: center;
    }
    .highlight {
        background-color: #ffd700;
        padding: 2px 5px;
        border-radius: 3px;
    }
</style>
""", unsafe_allow_html=True)

# Main header
st.markdown('<div class="main-header">GlobalView.</div>', unsafe_allow_html=True)

# Create two columns for the dashboard
col1, col2 = st.columns([2, 1])

with col1:
    # Client Info section
    st.markdown('<div class="section-header">Client Info</div>', unsafe_allow_html=True)
    client_col1, client_col2 = st.columns(2)
    
    with client_col1:
        client_number = st.text_input("Client Number", value="12345")
    
    with client_col2:
        company_name = st.text_input("Company Name", value="Example Corp")
    
    # Country section
    st.markdown('<div class="section-header">Country</div>', unsafe_allow_html=True)
    country = st.selectbox("", ["USA English", "UK English", "Canada English", "Australia English"], index=0)
    
    # Client Contact section
    st.markdown('<div class="section-header">Client Contact</div>', unsafe_allow_html=True)
    contact_name = st.text_input("Name", value="John Smith")
    contact_phone = st.text_input("Phone Number", value="+1 (555) 123-4567")
    contact_email = st.text_input("E-Mail", value="john.smith@example.com")
    adp_contact = st.text_input("ADP Contact", value="ADP Representative")

with col2:
    # Program Control section
    st.markdown('<div class="section-header">Program Control</div>', unsafe_allow_html=True)
    test_run = st.checkbox("Test Run (No Update)", value=True)
    
    # Overview section
    st.markdown('<div class="section-header">Overview</div>', unsafe_allow_html=True)
    st.markdown('<div class="info-box">T558B&T558C Reference</div>', unsafe_allow_html=True)
    
    # PTD/YTD Results section
    st.markdown('<div class="section-header">PTD/YTD Results</div>', unsafe_allow_html=True)
    st.info("USA")
    
    # Period section
    st.markdown('<div class="section-header">Period</div>', unsafe_allow_html=True)
    date_received = st.date_input("Date Received", value=datetime.today())
    date_processed = st.date_input("Date Processed", value=datetime.today())

# Transaction Overview section
st.markdown('<div class="section-header">Transaction Overview</div>', unsafe_allow_html=True)

# Create metrics for transaction overview
metric_col1, metric_col2 = st.columns(2)

with metric_col1:
    record_type = st.selectbox("Record Type", ["T558B", "T558C", "All Types"], index=2)

with metric_col2:
    record_count = st.number_input("Record Count", min_value=0, value=0, step=1)

# Display the total records
st.markdown(f"""
<div class="metric-box">
    <h3>T 558B&T558C</h3>
    <h1>{record_count}</h1>
</div>
""", unsafe_allow_html=True)

# Display the total records summary
st.markdown(f'### Total Records - {record_count}')

# Add some interactivity
if st.button("Process Data", type="primary"):
    if test_run:
        st.success("Test run completed successfully. No updates were made to the database.")
    else:
        st.success("Data processed and updated successfully.")

# Add a footer
st.markdown("---")
st.markdown("GlobalView Dashboard â€¢ ADP Â© 2023 â€¢ Confidential")
